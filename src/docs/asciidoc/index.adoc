= Personal_blog API Documentation

== ì†Œê°œ
ì´ ë¬¸ì„œëŠ” personal_blog í”„ë¡œì íŠ¸ì˜ API ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡ê³¼ ìš”ì²­, ì‘ë‹µì— ë”°ë¥¸ ê²°ê³¼ê°’ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

== API ëª©ë¡
1. `/auth/..` : ì¸ì¦ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸
2. `/articles/..` : ê²Œì‹œë¬¼ ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸
3. `/articles/{articleId}/comments/..` : ëŒ“ê¸€ ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸

== I. ì¸ì¦
ì¸ì¦ ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸ëŠ” ì‚¬ìš©ìì˜ ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ, íšŒì›ê°€ì…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

=== 1. ë¡œê·¸ì¸

.Request
[source,http,options="nowrap"]
----
POST /auth/login HTTP/1.1
Content-Type: application/json
Content-Length: 44
Host: localhost:8080

{"loginId":"testUser","password":"password"}
----
.Response
[source,http,options="nowrap"]
----
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 21

{"token":"testToken"}
----

=== 2. ë¡œê·¸ì•„ì›ƒ

.Request
[source,http,options="nowrap"]
----
POST /auth/logout HTTP/1.1
Content-Type: application/json
Authorization: Bearer valid.jwt.token
Host: localhost:8080

----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 204 No Content

----

=== 3. íšŒì›ê°€ì…

.Request
----
POST /auth/signup?_csrf=n4hCGZ98q4KnsN1w6On9Cg0c0jGaFT_Q__Vr_KFGXhZ0Em26re11L6lPk7uK1ukT38TJMjR-_1OtJQb9y8NZnsd3bnVFdw_f HTTP/1.1
Content-Type: application/json
Content-Length: 124
Host: localhost:8080

{"loginId":"testUser","password":"password","username":"testUser","createdAt":"2024-08-10T19:38:46.0941894","enabled":false}
----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 201 Created
Content-Type: application/json
Content-Length: 21

{"token":"testToken"}
----

== II. ê²Œì‹œë¬¼
ê²Œì‹œë¬¼ ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸ëŠ” ê²Œì‹œë¬¼ì˜ ìƒì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.

=== 1. ê²Œì‹œë¬¼ ìƒì„±

.Request
[source,http,options="nowrap"]
----
GET /articles HTTP/1.1
Content-Type: application/json
Accept: application/json
Host: localhost:8080

----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 511

[{"articleId":0,"title":"title0","content":"content0","hits":0,"likes":0,"isDeleted":false,"createdAt":"2024-08-12T19:21:16.9133466","updatedAt":"2024-08-12T19:21:16.9133466","userId":null,"loginId":null,"username":null,"contentPaths":[],"commentDtos":[]},{"articleId":1,"title":"title1","content":"content1","hits":0,"likes":0,"isDeleted":false,"createdAt":"2024-08-12T19:21:16.9133466","updatedAt":"2024-08-12T19:21:16.9133466","userId":null,"loginId":null,"username":null,"contentPaths":[],"commentDtos":[]}]
----

=== 2. ê²Œì‹œë¬¼ ì¡°íšŒ

.Request
[source,http,options="nowrap"]
----
GET /articles/1 HTTP/1.1
Content-Type: application/json
Accept: application/json
Host: localhost:8080

----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 577

{"articleId":1,"title":"title","content":"content","hits":0,"likes":0,"isDeleted":false,"createdAt":"2024-08-12T19:21:25.5577424","updatedAt":"2024-08-12T19:21:25.5577424","userId":1,"loginId":"loginId","username":"username","contentPaths":[{"contentPathId":1,"path":"/resources/testImages/image1.png","articleId":1},{"contentPathId":2,"path":"/resources/testImages/image2.png","articleId":1}],"commentDtos":[{"commentId":1,"nickname":"nickname","comment":"comment","createdAt":"2024-08-12T19:21:25.5577424","updatedAt":"2024-08-12T19:21:25.5577424","userId":1,"articleId":1}]}
----

=== 3. ê²Œì‹œë¬¼ ìˆ˜ì •

.Request
[source,http,options="nowrap"]
----
POST /articles/1/update HTTP/1.1
Content-Type: multipart/form-data; boundary=6o2knFse3p53ty9dmcQvWAIx1zInP11uCfbm
Host: localhost:8080

--6o2knFse3p53ty9dmcQvWAIx1zInP11uCfbm
Content-Disposition: form-data; name=files; filename=testImage1.png
Content-Type: image/png

ï¿½PNG


IHDR   v   V   b'   sRGB ï¿½ï¿½ï¿½   gAMA  ï¿½ï¿½ï¿½a   	pHYs  ï¿½  ï¿½ï¿½oï¿½d  ï¿½IDATx^ï¿½}LUeÇ¿ï¿½rï¿½Eï¿½%5Hï¿½ï¿½ï¿½jï¿½lZXï¿½hï¿½ï¿½*ï¿½ï¿½-uï¿½ï¿½\ï¿½ï¿½ï¿½ï¿½/Ñ¬66ï¿½?Z.ï¿½bï¿½ï¿½s$ï¿½ï¿½Èï¿½ï¿½V
2ï¿½@Awï¿½Tï¿½ï¿½Iï¿½yï¿½sï¿½@ï¿½Ë¡.xï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½yï¿½ï¿½ï¿½;ï¿½sï¿½ï¿½ï¿½vï¿½ï¿½BMA:ï¿½ï¿½,ï¿½!bIï¿½ï¿½ï¿½XRD,)"ï¿½Kï¿½ï¿½%EÄ’"bIï¿½ï¿½ï¿½XRD,)"ï¿½Kï¿½ï¿½%EÄ’"bIï¿½ï¿½ï¿½XRD,)"ï¿½Kï¿½ï¿½%EÄ’"bIï¿½ï¿½ï¿½XRD,)"ï¿½Kï¿½ï¿½%EÄ’"bIï¿½ï¿½ï¿½XRD,)"ï¿½Kï¿½ï¿½ï¿½v^ï¿½ï¿½5ï¿½pY6ï¿½ï¿½1ï¿½ï¿½ï¿½ï¿½{ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½vï¿½qcŞ®{ï¿½ï¿½/ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ú“ï¿½ï¿½gï¿½ï¿½7ï¿½ï¿½ï¿½Øµï¿½ï¿½ï¿½=nï¿½ï¿½Ubï¿½Lï¿½ï¿½c;ï¿½6-ï¿½ï¿½jÜ˜ï¿½ï¿½ï¿½ï¿½ï¿½XRD,)ï¿½ï¿½ï¿½ï¿½^ï¿½ï¿½ï¿½ï¿½_ï¿½Æ¾ï¿½]ï¿½ï¿½Eï¿½^TÖœ0ï¿½WkŞ½/YMï¿½ï¿½ï¿½<ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½`S^	N6ï¿½m>uï¿½ï¿½ï¿½v
ï¿½
ï¿½]=ï¿½ï¿½ï¿½ï¿½ï¿½gï¿½8=ï¿½ï¿½Ë‚}Zï¿½1ï¿½ÒŠï¿½ï¿½,ï¿½ï¿½w>ï¿½2ï¿½ï¿½Rï¿½ï¿½EJï¿½ï¿½7?ÅÃµï¿½ï¿½3\ï¿½ï¿½ï¿½ï¿½Eï¿½E:Vï¿½ï¿½ï¿½ï¿½ï¿½Øï¿½:ï¿½ï¿½ï¿½sOÜ‹sfï¿½1xï¿½/_ï¿½ï¿½cï¿½xï¿½Tï¿½ï¿½ï¿½3ï¿½]ï¿½ï¿½wÓ™ï¿½xyï¿½ï¿½zMï¿½#Gï¿½";ï¿½%Äï¿½55ï¿½qï¿½ï¿½nï¿½ï¿½ï¿½#ï¿½eFï¿½@k;Ò¯ï¿½ï¿½ï¿½ï¿½{tï¿½5ï¿½rï¿½xß˜ï¿½ï¿½7^y/ï¿½}@ï¿½-ï¿½VTÕ4ï¿½ï¿½ï¿½ï¿½<yï¿½ï¿½Lï¿½ï¿½8''ï¿½ï¿½ç«ï¿½ï¿½>ï¿½/yï¿½ï¿½ï¿½ï¿½ï¿½0cï¿½-ï¿½ï¿½ï¿½4ï¿½Å˜ï¿½ï¿½ï¿½oVï¿½vÅ¾ï¿½<ï¿½ï¿½4Û±ï¿½ï¿½ï¿½ï¿½ï¿½Zï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Öï¿½ï¿½ï¿½ï¿½uï¿½ï¿½ï¿½U"3{ï¿½ï¿½ï¿½ï¿½swNï¿½^Å¼ï¿½ï¿½aï¿½ï¿½4ï¿½ï¿½ï¿½meï¿½İºÇ”ï¿½ï¿½ï¿½ï¿½Gï¿½Sï¿½ï¿½k'O>ï¿½W_pï¿½#aï¿½(ï¿½Zï¿½=ï¿½>Ì‡ï¿½ï¿½7ï¿½Rï¿½Aï¿½{-ï¿½''y'ï¿½ï¿½Î»ï¿½0ï¿½Nï¿½opï¿½ï¿½ï¿½wMv,UAï¿½_ï¿½ï¿½Yï¿½ï¿½koï¿½$ï¿½{ï¿½ï¿½ï¿½<K>lJï¿½ï¿½Ñ ï¿½ï¿½.vË´#ï¿½
Xï¿½ï¿½ï¿½+TGï¿½ï¿½ï¿½ï¿½#kï¿½|Äï¿½ï¿½"b]ï¿½ï¿½ï¿½nï¿½ï¿½wtï¿½ï¿½v×¯~Kï¿½Oï¿½Zï¿½wï¿½ï¿½ï¿½UNï¿½ï¿½yï¿½=Ö„ï¿½ï¿½cï¿½k8mjBï¿½UWQuï¿½}ï¿½ï¿½
ï¿½ï¿½:ï¿½aEUï¿½ï¿½u
3ç¡»ï¿½ï¿½Mï¿½>ï¿½ï¿½ï¿½ï¿½'ï¿½ï¿½ï¿½ï¿½Xï¿½VfnF~ï¿½~Sï¿½ï¿½ï¿½uİŠï¿½ï¿½ï¿½nNTï¿½
i%ï¿½-ï¿½7ï¿½ï¿½ï¿½0>ï¿½Aï¿½k=r6ï¿½6ï¿½ï¿½ï¿½ï¿½ï¿½Nï¿½ï¿½ï¿½&^ï¿½h"{Rï¿½_k"ï¿½>Iï¿½;:C]Y$ï¿½2(ï¿½Xï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Pï¿½ï¿½ï¿½ï¿½ï¿½î¦àºŸ@ï¿½Vï¿½ï¿½Ş°ï¿½ï¿½{0ï¿½ï¿½dSï¿½7js<ï¿½ï¿½ï¿½%ï¿½ï¿½`{ï¿½ï¿½Qï¿½xï¿½ï¿½Ztï¿½ï¿½Ç‹ï¿½iï¿½a\Rï¿½ï¿½ï¿½ï¿½7oï¿½ï¿½ï¿½ï¿½ï¿½vKQï¿½6-Ô®ï¿½ï¿½ï¿½Hï¿½Y1)"ï¿½Kï¿½ï¿½%EÄ’"bIï¿½ï¿½ï¿½XRD,)"ï¿½Kï¿½ï¿½%EÄ’"bIï¿½ï¿½ï¿½XRD,)"ï¿½Kï¿½ï¿½%EÄ’"bIï¿½ï¿½ï¿½XRD,%ï¿½?ï¿½ï¿½
~F`ï¿½U    IENDï¿½B`ï¿½
--6o2knFse3p53ty9dmcQvWAIx1zInP11uCfbm
Content-Disposition: form-data; name=article
Content-Type: application/json

{ "articleId": 1, "title": "title", "content": "content" }
--6o2knFse3p53ty9dmcQvWAIx1zInP11uCfbm--
----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 200 OK
Content-Type: text/plain;charset=UTF-8
Content-Length: 7

Updated
----

=== 4. ê²Œì‹œë¬¼ ì‚­ì œ

.Request
[source,http,options="nowrap"]
----
PUT /articles/1/delete HTTP/1.1
Content-Type: application/json
Accept: application/json
Host: localhost:8080

----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 7

Deleted
----

=== 5. ê²Œì‹œë¬¼ ëª©ë¡ ì¡°íšŒ

.Request
[source,http,options="nowrap"]
----
GET /articles HTTP/1.1
Content-Type: application/json
Accept: application/json
Host: localhost:8080

----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 511

[{"articleId":0,"title":"title0","content":"content0","hits":0,"likes":0,"isDeleted":false,"createdAt":"2024-08-12T19:21:16.9133466","updatedAt":"2024-08-12T19:21:16.9133466","userId":null,"loginId":null,"username":null,"contentPaths":[],"commentDtos":[]},{"articleId":1,"title":"title1","content":"content1","hits":0,"likes":0,"isDeleted":false,"createdAt":"2024-08-12T19:21:16.9133466","updatedAt":"2024-08-12T19:21:16.9133466","userId":null,"loginId":null,"username":null,"contentPaths":[],"commentDtos":[]}]
----

=== 6. ê²Œì‹œë¬¼ ì¢‹ì•„ìš”

.Request
[source,http,options="nowrap"]
----
PUT /articles/1/like HTTP/1.1
Content-Type: application/json
Accept: application/json
Host: localhost:8080

----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 6

Likes!
----

=== 7. ê²Œì‹œë¬¼ ì¢‹ì•„ìš” ì·¨ì†Œ

.Request
[source,http,options="nowrap"]
----
PUT /articles/1/cancel-like HTTP/1.1
Content-Type: application/json
Accept: application/json
Host: localhost:8080

----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 14

Likes canceled
----

== III. ëŒ“ê¸€
ëŒ“ê¸€ ê´€ë ¨ ì—”ë“œí¬ì¸íŠ¸ëŠ” ëŒ“ê¸€ì˜ ìƒì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.

=== 1. ëŒ“ê¸€ ìƒì„±

.Request
[source,http,options="nowrap"]
----
POST /articles/1/comments HTTP/1.1
Content-Type: application/json
Content-Length: 166
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0VXNlciIsInVzZXJJZCI6IjEiLCJpYXQiOjE3MjMyODAxMDUsImV4cCI6MTcyMzI4MzcwNX0.cR9hGpeXSbPgHhs38Mxg_Oge_pWUKxse7iFboV4Dy2A
Host: localhost:8080

{"commentId":1,"nickname":"ë‹‰ë„¤ì„","comment":"ëŒ“ê¸€","createdAt":"2024-08-10T17:55:05.0416744","updatedAt":"2024-08-10T17:55:05.0496867","userId":1,"articleId":1}
----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 201 Created
Content-Type: application/json
Content-Length: 166

{"commentId":1,"nickname":"ë‹‰ë„¤ì„","comment":"ëŒ“ê¸€","createdAt":"2024-08-10T17:55:05.0416744","updatedAt":"2024-08-10T17:55:05.0496867","userId":1,"articleId":1}
----

=== 2. ëŒ“ê¸€ ìˆ˜ì •

.Request
[source,http,options="nowrap"]
----
PUT /articles/1/comments/1 HTTP/1.1
Content-Type: application/json
Content-Length: 186
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0VXNlciIsInVzZXJJZCI6IjEiLCJpYXQiOjE3MjMyODAxMjMsImV4cCI6MTcyMzI4MzcyM30.dXn7-RtE7IzxvwkEWJrZc9P_ev5HURNx1JOb5l0yNMo
Host: localhost:8080

{"commentId":1,"nickname":"ìˆ˜ì •ëœ ë‹‰ë„¤ì„","comment":"ìˆ˜ì •ëœ ëŒ“ê¸€","createdAt":"2024-08-10T17:55:22.8891762","updatedAt":"2024-08-10T17:55:22.9479674","userId":1,"articleId":1}
----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 186

{"commentId":1,"nickname":"ìˆ˜ì •ëœ ë‹‰ë„¤ì„","comment":"ìˆ˜ì •ëœ ëŒ“ê¸€","createdAt":"2024-08-10T17:55:22.8891762","updatedAt":"2024-08-10T17:55:22.9479674","userId":1,"articleId":1}
----

=== 3. ëŒ“ê¸€ ì‚­ì œ

.Request
[source,http,options="nowrap"]
----
DELETE /articles/1/comments/1 HTTP/1.1
Content-Type: application/json
Content-Length: 164
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0ZXN0VXNlciIsInVzZXJJZCI6IjEiLCJpYXQiOjE3MjMyODAyMDUsImV4cCI6MTcyMzI4MzgwNX0.29iwCJ8HhaMAmCf_wXcqDk0h7T6n5PUxJ0HmXsygFeg
Host: localhost:8080

{"commentId":1,"nickname":"ë‹‰ë„¤ì„","comment":"ëŒ“ê¸€","createdAt":"2024-08-10T17:56:45.285226","updatedAt":"2024-08-10T17:56:45.290222","userId":1,"articleId":1}
----

.Response
[source,http,options="nowrap"]
----
HTTP/1.1 204 No Content

----
